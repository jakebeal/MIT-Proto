<?xml version="1.0" ?>
<project default="build">

   <target name="build" depends="autogen,configure">
     <echo> Running make.......</echo>
     <record name="MakeLog.txt" action="start" />
        <exec dir="." executable="/usr/bin/make" failonerror="true" >
        </exec>     
     <record name="MakeLog.txt" action="stop" />
     <echo>Finished build</echo>
   </target>

   <target name="autogen">
     <echo>Running autogen.sh.....</echo>
     <record name="AutogenLog.txt" action="start" />
        <exec dir="." executable="/bin/sh" failonerror="true" >
           <arg line="./autogen.sh" />
        </exec>
     <record name="AutogenLog.txt" action="stop" />
   </target>

   <target name="configure" depends="autogen">
     <echo>Running configure.....</echo>
     <record name="ConfigureLog.txt" action="start" />
        <exec dir="." executable="/bin/sh" failonerror="true" >
            <arg line="./configure" />
        </exec>
     <record name="ConfigureLog.txt" action="stop" />
   </target>

   <target name="clean" >
     <echo>Starting make clean...</echo>
     <exec dir="." executable="/usr/bin/make" failonerror="true" >
        <arg line="clean" />
     </exec>
   </target>

   <target name="test" >
     <echo>Starting Proto tests.....</echo>
     <exec dir="./src/tests" executable="/usr/bin/python" >
        <arg line="prototest.py" />
     </exec>
   </target>

</project>
