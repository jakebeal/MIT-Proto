<!DOCTYPE html>
<html lang="en">
<head>
<title>WebProto</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
<style>
  body {
  color: #fff;
  font-family:Monospace;
  font-size:13px;
  text-align:center;
  background-color: #050505;
  margin: 0px;
  overflow: hidden;
  }
</style>
</head>
<body>
   <div id="container"> </div>

   <link rel="stylesheet" type="text/css" href="jquery-ui.css">
   <link rel="stylesheet" type="text/css" href="jquery.jnotify.css">

   <script src="jquery-2.0.2.min.js"></script>
   <script src="jquery-ui.js"></script>
   <script src="jquery.jnotify.min.js"></script>
   <script src="webproto.js"></script>
   <script src="three.min.js"></script>
   <script src="TrackballControls.js"></script>
   <script src="stats.min.js"></script>
   <script src="protosim.js"></script>
   <script>

      $(document).ready(function() {
         $(document).keydown(keyHandlers);
      });

      var script = new Module.Script();
      $.ajax({
         type: 'GET',
         dataType: "json",
         async: false,
         url: '/cgi-bin/p2b',
         data: { "program" : '(mov (if (< (timer) 20) (tup 1 1 1) (tup -1 -1 -1)))' },
         success: function(data) {
            console.log(data.script);
            $.each(data.script, function(index, value) {
               script.push_back(value);
            });
         },
         error: function(err) {
            $.jnotify("There was an error processing the Proto script, please check it and try again", "error");
            console.log("ERROR: " + err);
            console.log(err);
         }
      });

      init();
      animate();

   </script>

</body>
</html>
